# Пакетные менеджеры

[Статьи](../../stats.md) > [Строение GNU/Linux](../LinuxStr.preview.md)

<pre>
<strong>Автор:</strong> <a href="/LinuxSovet/Group/authors.d/Linuxoid85.html">Михаил Краснов</a>
<strong>Дата написания:</strong> 05.07.2021 00:00
</pre>

## Прелюдия

Доброго времени суток! Цикл "Строение GNU/Linux" оказался довольно популярным - видимо, народу было интересно. Этот цикл я представлял себе намного объёмнее, чем сейчас, но что есть, то есть. Но, несмотря на это, статьи отсюда, пусть и в довольно модифицированном виде, вошли в руководство "[Linux для себя](https://lx4u.ru)".

Да, этот цикл давно не обновлялся, но это не значит, что он устарел.

## Введение

Первая версия этой статьи была простым обзором известных пакетных менеджеров, да и к тому же, она содержала очень большое число фактических ошибок и неточностей. Эту было бы банальным, ведь таких же статей - куча, да и использование пакетного менеджера - не единственный метод управления программным обеспечением, поэтому текущую версию статьи разнообразил сведениями о сборке программного обеспечения из исходного кода.

## Методы управления ПО в GNU/Linux

Грубо говоря, есть два метода управления ПО в GNU/Linux:

1. Установка уже собранных бинарных пакетов;
2. Сборка программного обеспечения из исходного кода.

У каждой программы для GNU/Linux есть *зависимости* - другие пакеты, без которых искомый не сможет работать, либо будет лишён каких-либо функций. Зависимости можно разделить на следующие категории:

- **Обязательные**. Без них пакет не может функционировать вообще. Если какая-то из обязательных зависимостей не будет присутствовать в конкретном дистрибутиве GNU/Linux, то искомый пакет либо не сможет быть собран из исходного кода, а все пакетные менеджеры, в которых присутствует обработка зависимостей (`dpkg`, `apt`, `apt-get`, `rpm`, `dnf`, etc.), либо установят эту обязательную зависимость (высокоуровневые пакетные менеджеры, такие как dnf, apt-get, apt, etc.), либо завершат установку с ошибкой (низкоуровневые ПМ, такие как dpkg или rpm).
- **Рекомендуемые**. Эти зависимости рекомендуются сборщиками для установки вместе с искомым пакетом. Возможно, без них он не будет работать корректно при выполнении каких-то определённых задач, либо будет лишён какого-то доп. функционала. Это *необязательные зависимости*.
- **Опциональные**. Ещё один тип необязательных зависимостей. Добавляют какой-то доп. функционал искомому пакету, особо больше нечего сказать.
- **Конфликтующие**. Если в этой секции указан пакет, который установлен в системе, то перед установкой искомого пакета, требуется удалить из системы конфликтующий. Возможно, в этих пакетах предоставляются разные версии какой-либо одной библиотеки, либо конфликтуют какие-либо другие файлы. Во избежание ошибок в работе отдельного ПО или всей системы в целом пакетные менеджеры с обработкой зависимостей удаляют перечисленные в этой секции пакеты перед установкой искомого пакета.

## Что такое пакет?

Пакет - это архив с файлами программы и информацией о ней. Информация о пакете включает в себя:

- Имя программы/библиотеки/etc.
- Версия программы
- Описание программы
- Информация о сопровождающем (сборщике) пакета
- Зависимости пакета
- Все файлы, включенные в пакет (используется не во всех ПМ, так как некоторые умеют сами перечислять файлы пакета, а некоторым требуется указать список файлов самостоятельно).

Информация, представленная выше, используется как человеком, так и пакетными менеджерами, созданные для упрощения управления пакетами.

По содержимому, в свою очередь, пакеты можно разделить на две группы:

1. **Бинарные пакеты**. Содержат уже собранные двоичные файлы пакета.
2. **src-пакеты**. Содержат инструкции по сборке. Редки, но иногда можно встретить и их. Сборочные инструкции, как правило, представляют Shell-скрипт, который запускается пакетным менеджером. Просьба ***не путать*** такие src-пакеты, по-сути, "собираемые" пакетным менеджером, с обычными архивами исходного кода требуемого пакета.

## Пакетные менеджеры как способ управления бинарными пакетами

Большинство пакетов, предназначенных для конкретного дистрибутива, содержатся в удалённых *репозиториях*. Репозиторий - это сервер, на котором хранятся в упорядоченном виде содержатся нужные пакеты вместе с их зависимостями.

В репозиториях есть несколько веток с различными версиями ПО. Например, стабильная ветка, ветка для тестирования и пр. Содержимое этих веток видно из названия.

В репозиториях большинства дистрибутивов содержится только проверенное ПО, поэтому не следует особо беспокоиться по поводу того, что устанавливаемое ПО из этих репозиториев может содержать вирусы или что-то вроде того. Кроме того, каждый пакет из *официальных* репозиториев конкретного дистрибутива GNU/Linux проходит обязательное тестирование на работоспособность. Пакеты, которые тестируются, содержатся, как правило, в ветках под названием `testing`, `unstable` или что-то вроде того.


